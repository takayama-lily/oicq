<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>oicq</title><meta name="description" content="Documentation for oicq"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem(&quot;tsd-theme&quot;) || &quot;os&quot;)</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">oicq</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>oicq</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#oicq" id="oicq" style="color: inherit; text-decoration: none;">
  <h1>oicq</h1>
</a>
<p><a href="https://www.npmjs.com/package/oicq"><img src="https://img.shields.io/npm/v/oicq/latest.svg" alt="npm version"></a>
<a href="https://www.npmjs.com/package/oicq"><img src="https://shields.io/npm/dm/oicq" alt="dm"></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/oicq/latest.svg" alt="node engine"></a>
<a href="https://discord.gg/gKnU7BARzv"><img src="https://img.shields.io/static/v1?label=chat&message=on%20discord&color=7289da&logo=discord" alt="discord"></a></p>
<ul>
<li>QQ(安卓)协议基于Node.js的实现，支持最低node版本为 v14</li>
<li>若你不熟悉Node.js或不会组织代码，可通过 <a href="https://github.com/takayama-lily/oicq-template">template</a> 创建一个简单的应用程序</li>
<li><a href="#api-reference">API Reference</a> / <a href="https://takayama-lily.github.io/oicq/">Type Docs</a> (文档仅供参考，具体类型以包内d.ts声明文件为准)</li>
<li><a href="https://github.com/takayama-lily/oicq/projects/3#column-16638290">从v1.x升级</a> (v1在master分支)</li>
</ul>
<hr>
<p><strong>Install:</strong></p>
<pre><code class="language-bash"><span class="hl-0">&gt; npm i oicq  </span><span class="hl-1"># or &gt; yarn add oicq</span>
</code></pre>
<p><strong>Usage:</strong></p>
<pre><code class="language-js"><span class="hl-2">const</span><span class="hl-0"> { </span><span class="hl-3">createClient</span><span class="hl-0"> } = </span><span class="hl-4">require</span><span class="hl-0">(</span><span class="hl-5">&quot;oicq&quot;</span><span class="hl-0">)</span><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-3">account</span><span class="hl-0"> = </span><span class="hl-6">147258369</span><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-3">client</span><span class="hl-0"> = </span><span class="hl-4">createClient</span><span class="hl-0">(</span><span class="hl-7">account</span><span class="hl-0">)</span><br/><br/><span class="hl-7">client</span><span class="hl-0">.</span><span class="hl-4">on</span><span class="hl-0">(</span><span class="hl-5">&quot;system.online&quot;</span><span class="hl-0">, () </span><span class="hl-2">=&gt;</span><span class="hl-0"> </span><span class="hl-7">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-5">&quot;Logged in!&quot;</span><span class="hl-0">))</span><br/><span class="hl-7">client</span><span class="hl-0">.</span><span class="hl-4">on</span><span class="hl-0">(</span><span class="hl-5">&quot;message&quot;</span><span class="hl-0">, </span><span class="hl-7">e</span><span class="hl-0"> </span><span class="hl-2">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">console</span><span class="hl-0">.</span><span class="hl-4">log</span><span class="hl-0">(</span><span class="hl-7">e</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-7">e</span><span class="hl-0">.</span><span class="hl-4">reply</span><span class="hl-0">(</span><span class="hl-5">&quot;hello world&quot;</span><span class="hl-0">, </span><span class="hl-2">true</span><span class="hl-0">) </span><span class="hl-1">//true表示引用对方的消息</span><br/><span class="hl-0">})</span><br/><br/><span class="hl-7">client</span><span class="hl-0">.</span><span class="hl-4">on</span><span class="hl-0">(</span><span class="hl-5">&quot;system.login.qrcode&quot;</span><span class="hl-0">, </span><span class="hl-2">function</span><span class="hl-0"> (</span><span class="hl-7">e</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">//扫码后按回车登录</span><br/><span class="hl-0">  </span><span class="hl-7">process</span><span class="hl-0">.</span><span class="hl-7">stdin</span><span class="hl-0">.</span><span class="hl-4">once</span><span class="hl-0">(</span><span class="hl-5">&quot;data&quot;</span><span class="hl-0">, () </span><span class="hl-2">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">this</span><span class="hl-0">.</span><span class="hl-4">login</span><span class="hl-0">()</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">}).</span><span class="hl-4">login</span><span class="hl-0">()</span>
</code></pre>
<p>注意：第一次运行程序时，有可能扫描命令行中的二维码和图片中的二维码都会显示过期，只需要重新运行一次程序即可，后面不会出现这个问题。</p>

<a href="#api-reference" id="api-reference" style="color: inherit; text-decoration: none;">
  <h2>Api Reference</h2>
</a>
<ul>
<li><a href="#class-client">Class: Client</a> 客户端</li>
<li><a href="#class-group">Class: Group</a> 群</li>
<li><a href="#class-user">Class: User</a> 用户</li>
<li><a href="#class-friend">Class: Friend</a> 好友</li>
<li><a href="#class-member">Class: Member</a> 群员</li>
<li><a href="#class-contactable">Class: Contactable</a> 群和用户的基类</li>
<li><a href="#class-gfs">Class: Gfs</a> 群文件系统</li>
<li><a href="#class-message">Class: Message</a> 消息</li>
<li><a href="#namespace-segment">Namespace: segment</a> 构造消息元素</li>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95">使用密码登录</a></li>
</ul>

<a href="#class-client" id="class-client" style="color: inherit; text-decoration: none;">
  <h3>Class: Client</h3>
</a>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>login()</td>
<td>登录</td>
</tr>
<tr>
<td>submitSlider()</td>
<td>提交滑动验证码</td>
</tr>
<tr>
<td>sendSmsCode()</td>
<td>发短信</td>
</tr>
<tr>
<td>submitSmsCode()</td>
<td>提交短信验证码</td>
</tr>
<tr>
<td>pickGroup()</td>
<td><a href="#class-group">得到一个群对象</a></td>
</tr>
<tr>
<td>pickFriend()</td>
<td><a href="#class-friend">得到一个好友对象</a></td>
</tr>
<tr>
<td>pickMember()</td>
<td><a href="#class-member">得到一个群员对象</a></td>
</tr>
<tr>
<td>pickUser()</td>
<td><a href="#class-user">得到一个用户对象</a></td>
</tr>
<tr>
<td>pickDiscuss()</td>
<td>得到一个讨论组对象</td>
</tr>
<tr>
<td>setOnlineStatus()</td>
<td>设置在线状态</td>
</tr>
<tr>
<td>setNickname()</td>
<td>设置昵称</td>
</tr>
<tr>
<td>setGender()</td>
<td>设置性别</td>
</tr>
<tr>
<td>setBirthday()</td>
<td>设置生日</td>
</tr>
<tr>
<td>setDescription()</td>
<td>设置个人说明</td>
</tr>
<tr>
<td>setSignature()</td>
<td>设置个性签名</td>
</tr>
<tr>
<td>setAvatar()</td>
<td>设置头像</td>
</tr>
<tr>
<td>getRoamingStamp()</td>
<td>获取漫游表情</td>
</tr>
<tr>
<td>deleteStamp()</td>
<td>删除漫游表情</td>
</tr>
<tr>
<td>addClass()</td>
<td>添加好友分组</td>
</tr>
<tr>
<td>deleteClass()</td>
<td>删除好友分组</td>
</tr>
<tr>
<td>renameClass()</td>
<td>重命名好友分组</td>
</tr>
<tr>
<td>reloadFriendList()</td>
<td>重载好友列表</td>
</tr>
<tr>
<td>reloadStrangerList()</td>
<td>重载陌生人列表</td>
</tr>
<tr>
<td>reloadGroupList()</td>
<td>重载群列表</td>
</tr>
<tr>
<td>reloadBlackList()</td>
<td>重载黑名单列表</td>
</tr>
<tr>
<td>getSystemMsg()</td>
<td>获取系统消息</td>
</tr>
<tr>
<td>getForwardMsg()</td>
<td>解析合并转发</td>
</tr>
<tr>
<td>makeForwardMsg()</td>
<td>制作合并转发</td>
</tr>
<tr>
<td>getVideoUrl()</td>
<td>获取视频地址</td>
</tr>
<tr>
<td>cleanCache()</td>
<td>清空缓存文件</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>uin</td>
<td>我的账号</td>
</tr>
<tr>
<td>status</td>
<td>在线状态</td>
</tr>
<tr>
<td>nickname</td>
<td>昵称</td>
</tr>
<tr>
<td>sex</td>
<td>性别</td>
</tr>
<tr>
<td>age</td>
<td>年龄</td>
</tr>
<tr>
<td>fl</td>
<td>好友列表(Map)</td>
</tr>
<tr>
<td>gl</td>
<td>群列表(Map)</td>
</tr>
<tr>
<td>sl</td>
<td>陌生人列表(Map)</td>
</tr>
<tr>
<td>gml</td>
<td>群员列表缓存(Map)</td>
</tr>
<tr>
<td>blacklist</td>
<td>黑名单列表(Set)</td>
</tr>
<tr>
<td>classes</td>
<td>好友分组(Map)</td>
</tr>
<tr>
<td>stamp</td>
<td>漫游表情(Set))</td>
</tr>
<tr>
<td>logger</td>
<td>日志记录器</td>
</tr>
<tr>
<td>config</td>
<td>配置</td>
</tr>
<tr>
<td>dir</td>
<td>本地存储路径</td>
</tr>
<tr>
<td>stat</td>
<td>数据统计</td>
</tr>
<tr>
<td>bkn</td>
<td>csrf-token</td>
</tr>
<tr>
<td>cookies</td>
<td>cookies</td>
</tr>
<tr>
<td>tiny_id</td>
<td>我的频道账号</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>system.login.qrcode</td>
<td>收到二维码</td>
</tr>
<tr>
<td>system.login.slider</td>
<td>滑动验证码</td>
</tr>
<tr>
<td>system.login.device</td>
<td>设备锁</td>
</tr>
<tr>
<td>system.login.error</td>
<td>登录错误</td>
</tr>
<tr>
<td>system.online</td>
<td>上线</td>
</tr>
<tr>
<td>system.offline.kickoff</td>
<td>服务器踢下线</td>
</tr>
<tr>
<td>system.offline.network</td>
<td>网络错误导致下线</td>
</tr>
<tr>
<td>request.friend</td>
<td>好友申请</td>
</tr>
<tr>
<td>request.group.add</td>
<td>加群申请</td>
</tr>
<tr>
<td>request.group.invite</td>
<td>群邀请</td>
</tr>
<tr>
<td>request</td>
<td>全部请求</td>
</tr>
<tr>
<td>message.group</td>
<td>群消息</td>
</tr>
<tr>
<td>message.private</td>
<td>私聊消息</td>
</tr>
<tr>
<td>message.discuss</td>
<td>讨论组消息</td>
</tr>
<tr>
<td>message</td>
<td>全部消息</td>
</tr>
<tr>
<td>notice.friend.increase</td>
<td>好友增加</td>
</tr>
<tr>
<td>notice.friend.decrease</td>
<td>好友减少</td>
</tr>
<tr>
<td>notice.friend.recall</td>
<td>好友撤回</td>
</tr>
<tr>
<td>notice.friend.poke</td>
<td>好友戳一戳</td>
</tr>
<tr>
<td>notice.friend</td>
<td>好友通知</td>
</tr>
<tr>
<td>notice.group.increase</td>
<td>群员增加</td>
</tr>
<tr>
<td>notice.group.decrease</td>
<td>群员减少</td>
</tr>
<tr>
<td>notice.group.recall</td>
<td>群撤回</td>
</tr>
<tr>
<td>notice.group.poke</td>
<td>群戳一戳</td>
</tr>
<tr>
<td>notice.group.ban</td>
<td>群禁言</td>
</tr>
<tr>
<td>notice.group.admin</td>
<td>群管理变更</td>
</tr>
<tr>
<td>notice.group.transfer</td>
<td>群转让</td>
</tr>
<tr>
<td>notice.group</td>
<td>群通知</td>
</tr>
<tr>
<td>notice</td>
<td>全部通知</td>
</tr>
<tr>
<td>sync.message</td>
<td>私聊消息同步</td>
</tr>
<tr>
<td>sync.read</td>
<td>已读同步</td>
</tr>
<tr>
<td>guild.message</td>
<td>频道消息</td>
</tr>
</tbody></table>

<a href="#class-group" id="class-group" style="color: inherit; text-decoration: none;">
  <h3>Class: Group</h3>
</a>
<blockquote>
<p>所有的<code>notice.group</code>和<code>message.group</code>事件的上报数据中含有此实例 (<code>e.group</code>访问)</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>sendMsg()</td>
<td>发送消息</td>
</tr>
<tr>
<td>recallMsg()</td>
<td>撤回消息</td>
</tr>
<tr>
<td>setName()</td>
<td>设置群名</td>
</tr>
<tr>
<td>setAvatar()</td>
<td>设置群头像</td>
</tr>
<tr>
<td>muteAll()</td>
<td>禁言全员</td>
</tr>
<tr>
<td>muteMember()</td>
<td>禁言群员</td>
</tr>
<tr>
<td>muteAnony()</td>
<td>禁言匿名者</td>
</tr>
<tr>
<td>kickMember()</td>
<td>踢人</td>
</tr>
<tr>
<td>pokeMember()</td>
<td>戳一戳</td>
</tr>
<tr>
<td>setCard()</td>
<td>设置名片</td>
</tr>
<tr>
<td>setAdmin()</td>
<td>设置管理员</td>
</tr>
<tr>
<td>setTitle()</td>
<td>设置头衔</td>
</tr>
<tr>
<td>invite()</td>
<td>邀请好友</td>
</tr>
<tr>
<td>quit()</td>
<td>退群/解散</td>
</tr>
<tr>
<td>getAnonyInfo()</td>
<td>获取匿名身份</td>
</tr>
<tr>
<td>allowAnony()</td>
<td>允许/禁止匿名</td>
</tr>
<tr>
<td>getChatHistory()</td>
<td>获取聊天记录</td>
</tr>
<tr>
<td>markRead()</td>
<td>标记已读</td>
</tr>
<tr>
<td>getFileUrl()</td>
<td>获取群文件下载地址</td>
</tr>
<tr>
<td>shareMusic()</td>
<td>分享音乐</td>
</tr>
<tr>
<td>getMemberMap()</td>
<td>获取群员列表</td>
</tr>
<tr>
<td>getAvatarUrl()</td>
<td>获取群头像地址</td>
</tr>
<tr>
<td>pickMember()</td>
<td><a href="#class-member">获取一个群成员对象</a></td>
</tr>
<tr>
<td>getAtAllRemainder()</td>
<td>获取@全体剩余次数</td>
</tr>
<tr>
<td>renew()</td>
<td>刷新群资料</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>group_id</td>
<td>群号</td>
</tr>
<tr>
<td>name</td>
<td>群名</td>
</tr>
<tr>
<td>info</td>
<td>群资料</td>
</tr>
<tr>
<td>is_owner</td>
<td>我是否群主</td>
</tr>
<tr>
<td>is_admin</td>
<td>我是否管理</td>
</tr>
<tr>
<td>all_muted</td>
<td>是否全员禁言</td>
</tr>
<tr>
<td>mute_left</td>
<td>我的禁言剩余时间</td>
</tr>
<tr>
<td>fs</td>
<td><a href="#class-gfs">群文件系统</a></td>
</tr>
</tbody></table>

<a href="#class-user" id="class-user" style="color: inherit; text-decoration: none;">
  <h3>Class: User</h3>
</a>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>sendMsg()</td>
<td>发送消息</td>
</tr>
<tr>
<td>recallMsg()</td>
<td>撤回消息</td>
</tr>
<tr>
<td>getSimpleInfo()</td>
<td>查询资料</td>
</tr>
<tr>
<td>getChatHistory()</td>
<td>获取聊天记录</td>
</tr>
<tr>
<td>markRead()</td>
<td>标记已读</td>
</tr>
<tr>
<td>getFileUrl()</td>
<td>获取离线文件下载地址</td>
</tr>
<tr>
<td>getAvatarUrl()</td>
<td>获取头像地址</td>
</tr>
<tr>
<td>asFriend()</td>
<td><a href="#class-friend">获取作为好友的对象</a></td>
</tr>
<tr>
<td>asMember()</td>
<td><a href="#class-member">获取作为某群群员的对象</a></td>
</tr>
<tr>
<td>addFriendBack()</td>
<td>回添双向好友</td>
</tr>
<tr>
<td>setFriendReq()</td>
<td>同意好友申请</td>
</tr>
<tr>
<td>setGroupReq()</td>
<td>同意加群申请</td>
</tr>
<tr>
<td>setGroupInvite()</td>
<td>同意群邀请</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>user_id</td>
<td>QQ号</td>
</tr>
</tbody></table>

<a href="#class-friend" id="class-friend" style="color: inherit; text-decoration: none;">
  <h3>Class: Friend</h3>
</a>
<blockquote>
<p>继承 <a href="#class-user">User</a> 的所有方法和属性<br>所有的<code>notice.friend</code>和<code>message.private</code>事件中含有此实例 (<code>e.friend</code>访问)</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>shareMusic()</td>
<td>分享音乐</td>
</tr>
<tr>
<td>setRemark()</td>
<td>设置备注</td>
</tr>
<tr>
<td>setClass()</td>
<td>设置分组</td>
</tr>
<tr>
<td>thumbUp()</td>
<td>点赞</td>
</tr>
<tr>
<td>poke()</td>
<td>戳一戳</td>
</tr>
<tr>
<td>delete()</td>
<td>删除</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>nickname</td>
<td>昵称</td>
</tr>
<tr>
<td>sex</td>
<td>性别</td>
</tr>
<tr>
<td>remark</td>
<td>备注</td>
</tr>
<tr>
<td>class_id</td>
<td>分组id</td>
</tr>
<tr>
<td>class_name</td>
<td>分组名</td>
</tr>
<tr>
<td>info</td>
<td>好友资料</td>
</tr>
</tbody></table>

<a href="#class-member" id="class-member" style="color: inherit; text-decoration: none;">
  <h3>Class: Member</h3>
</a>
<blockquote>
<p>继承 <a href="#class-user">User</a> 的所有方法和属性<br>所有的<code>message.group</code>事件中含有此实例 (<code>e.member</code>访问)</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>setAdmin()</td>
<td>设置管理</td>
</tr>
<tr>
<td>setTitle()</td>
<td>设置头衔</td>
</tr>
<tr>
<td>setCard()</td>
<td>设置名片</td>
</tr>
<tr>
<td>kick()</td>
<td>踢群</td>
</tr>
<tr>
<td>mute()</td>
<td>禁言</td>
</tr>
<tr>
<td>poke()</td>
<td>戳一戳</td>
</tr>
<tr>
<td>addFriend()</td>
<td>加为好友</td>
</tr>
<tr>
<td>renew()</td>
<td>更新群员资料</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>group_id</td>
<td>群号</td>
</tr>
<tr>
<td>card</td>
<td>名片或昵称</td>
</tr>
<tr>
<td>title</td>
<td>头衔</td>
</tr>
<tr>
<td>is_friend</td>
<td>是否好友</td>
</tr>
<tr>
<td>is_owner</td>
<td>是否群主</td>
</tr>
<tr>
<td>is_admin</td>
<td>是否管理</td>
</tr>
<tr>
<td>mute_left</td>
<td>禁言剩余时间</td>
</tr>
<tr>
<td>group</td>
<td><a href="#class-group">所在群对象</a></td>
</tr>
<tr>
<td>info</td>
<td>群员资料</td>
</tr>
</tbody></table>

<a href="#class-contactable" id="class-contactable" style="color: inherit; text-decoration: none;">
  <h3>Class: Contactable</h3>
</a>
<blockquote>
<p>抽象类，用户和群的基类，里面的方法和属性都会被继承</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>uploadImages()</td>
<td>上传一批图片以备发送</td>
</tr>
<tr>
<td>uploadVideo()</td>
<td>上传一个视频以备发送</td>
</tr>
<tr>
<td>uploadPtt()</td>
<td>上传一个语音以备发送</td>
</tr>
<tr>
<td>makeForwardMsg()</td>
<td>制作合并转发消息以备发送</td>
</tr>
<tr>
<td>getForwardMsg()</td>
<td>解析合并转发消息</td>
</tr>
<tr>
<td>getVideoUrl()</td>
<td>获取视频下载地址</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>client</td>
<td>所在客户端对象</td>
</tr>
</tbody></table>

<a href="#class-gfs" id="class-gfs" style="color: inherit; text-decoration: none;">
  <h3>Class: Gfs</h3>
</a>
<blockquote>
<p>群文件系统</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>df()</td>
<td>查询使用空间</td>
</tr>
<tr>
<td>stat()</td>
<td>获取文件或目录属性</td>
</tr>
<tr>
<td>dir()</td>
<td>列出文件和目录</td>
</tr>
<tr>
<td>ls()</td>
<td>dir的别名</td>
</tr>
<tr>
<td>mkdir()</td>
<td>创建目录</td>
</tr>
<tr>
<td>rm()</td>
<td>删除文件或目录</td>
</tr>
<tr>
<td>rename()</td>
<td>重命名文件或目录</td>
</tr>
<tr>
<td>mv()</td>
<td>移动文件</td>
</tr>
<tr>
<td>upload()</td>
<td>上传文件</td>
</tr>
<tr>
<td>download()</td>
<td>获取下载链接</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>group_id</td>
<td>群号</td>
</tr>
<tr>
<td>group</td>
<td><a href="#class-group">所在群对象</a></td>
</tr>
<tr>
<td>client</td>
<td>所在客户端对象</td>
</tr>
</tbody></table>

<a href="#class-message" id="class-message" style="color: inherit; text-decoration: none;">
  <h3>Class: Message</h3>
</a>
<blockquote>
<p>拥有子类: PrivateMessage, GroupMessage, DiscussMessage</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>serialize()</td>
<td>序列化一条消息</td>
</tr>
<tr>
<td>toString()</td>
<td>一种适合阅读的形式</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Static Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>deserialize()</td>
<td>反序列化一条消息</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>message_type</td>
<td>消息类别：群或私聊</td>
</tr>
<tr>
<td>sub_type</td>
<td>子类别</td>
</tr>
<tr>
<td>group_id</td>
<td>群号</td>
</tr>
<tr>
<td>from_id</td>
<td>发送者</td>
</tr>
<tr>
<td>to_id</td>
<td>接收者</td>
</tr>
<tr>
<td>anonymous</td>
<td>匿名者信息</td>
</tr>
<tr>
<td>auto_reply</td>
<td>是否自动回复</td>
</tr>
<tr>
<td>block</td>
<td>是否屏蔽</td>
</tr>
<tr>
<td>atme</td>
<td>是否atme</td>
</tr>
<tr>
<td>atall</td>
<td>是否atall</td>
</tr>
<tr>
<td>message</td>
<td>消息链</td>
</tr>
<tr>
<td>raw_message</td>
<td>消息摘要</td>
</tr>
<tr>
<td>sender</td>
<td>发送者</td>
</tr>
<tr>
<td>time</td>
<td>消息时间</td>
</tr>
<tr>
<td>seq</td>
<td>消息序号</td>
</tr>
<tr>
<td>rand</td>
<td>消息随机数</td>
</tr>
<tr>
<td>font</td>
<td>字体</td>
</tr>
<tr>
<td>source</td>
<td>引用回复的消息</td>
</tr>
</tbody></table>

<a href="#class-forwardmessage" id="class-forwardmessage" style="color: inherit; text-decoration: none;">
  <h3>Class: ForwardMessage</h3>
</a>
<blockquote>
<p>基本同 <code>Message</code></p>
</blockquote>

<a href="#namespace-segment" id="namespace-segment" style="color: inherit; text-decoration: none;">
  <h3>Namespace: segment</h3>
</a>
<blockquote>
<p>const { segment } = require(&quot;oicq)</p>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>at()</td>
<td>创建at元素</td>
</tr>
<tr>
<td>face()</td>
<td>创建表情元素</td>
</tr>
<tr>
<td>image()</td>
<td>创建图片元素</td>
</tr>
<tr>
<td>flash()</td>
<td>创建闪照元素</td>
</tr>
<tr>
<td>video()</td>
<td>创建视频元素</td>
</tr>
<tr>
<td>record()</td>
<td>创建语音元素</td>
</tr>
<tr>
<td>xml()</td>
<td>创建xml元素</td>
</tr>
<tr>
<td>json()</td>
<td>创建json元素</td>
</tr>
<tr>
<td>share()</td>
<td>创建链接分享元素</td>
</tr>
<tr>
<td>location()</td>
<td>创建地点分享元素</td>
</tr>
<tr>
<td>poke()</td>
<td>创建戳一戳元素</td>
</tr>
<tr>
<td>bface()</td>
<td>创建bface元素</td>
</tr>
<tr>
<td>sface()</td>
<td>创建sface元素</td>
</tr>
<tr>
<td>mirai()</td>
<td>创建特殊元素</td>
</tr>
</tbody></table>

<a href="#使用密码登录" id="使用密码登录" style="color: inherit; text-decoration: none;">
  <h3>使用密码登录</h3>
</a>
<p>首次登录建议使用扫码，因为使用密码可能需要处理滑动验证码，目前非手机环境的滑动无法通过。<br>登录几天后不会再弹出滑动验证码，此时建议改用密码登录，更加稳定。</p>
<pre><code class="language-js"><span class="hl-2">const</span><span class="hl-0"> { </span><span class="hl-3">createClient</span><span class="hl-0"> } = </span><span class="hl-4">require</span><span class="hl-0">(</span><span class="hl-5">&quot;oicq&quot;</span><span class="hl-0">)</span><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-3">client</span><span class="hl-0"> = </span><span class="hl-4">createClient</span><span class="hl-0">(</span><span class="hl-6">147258369</span><span class="hl-0">)</span><br/><br/><span class="hl-1">//若弹出登录保护地址，去验证通过即可</span><br/><span class="hl-7">client</span><span class="hl-0">.</span><span class="hl-4">login</span><span class="hl-0">(</span><span class="hl-5">&quot;password&quot;</span><span class="hl-0">)</span>
</code></pre>
<hr>
<p><strong>其他：</strong></p>
<ul>
<li><a href="./web-api.md">QQWebApi</a> QQ Web Api 收集整理 (途中)</li>
<li><a href="https://gitee.com/takayama/oicq">码云镜像仓库</a></li>
<li><a href="./sponsors.md">赞助记录</a> 想赞助可加群给我发红包</li>
</ul>
<p><a href="https://qm.qq.com/cgi-bin/qm/qr?k=NXw3NEA5lzPjkRhyEpjVBqMpdg1WHRKJ&amp;jump_from=webapi"><img src="https://img.shields.io/badge/group-236172566-blue" alt="group:236172566"></a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/core.html">core</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/ErrorCode.html" class="tsd-kind-icon">Error<wbr/>Code</a></li><li class="tsd-kind-enum"><a href="enums/LoginErrorCode.html" class="tsd-kind-icon">Login<wbr/>Error<wbr/>Code</a></li><li class="tsd-kind-enum"><a href="enums/OnlineStatus.html" class="tsd-kind-icon">Online<wbr/>Status</a></li><li class="tsd-kind-enum"><a href="enums/Platform.html" class="tsd-kind-icon">Platform</a></li><li class="tsd-kind-class"><a href="classes/ApiRejection.html" class="tsd-kind-icon">Api<wbr/>Rejection</a></li><li class="tsd-kind-class"><a href="classes/Client.html" class="tsd-kind-icon">Client</a></li><li class="tsd-kind-class"><a href="classes/Discuss.html" class="tsd-kind-icon">Discuss</a></li><li class="tsd-kind-class"><a href="classes/DiscussMessage.html" class="tsd-kind-icon">Discuss<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/ForwardMessage.html" class="tsd-kind-icon">Forward<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/Friend.html" class="tsd-kind-icon">Friend</a></li><li class="tsd-kind-class"><a href="classes/Gfs.html" class="tsd-kind-icon">Gfs</a></li><li class="tsd-kind-class"><a href="classes/Group.html" class="tsd-kind-icon">Group</a></li><li class="tsd-kind-class"><a href="classes/GroupMessage.html" class="tsd-kind-icon">Group<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/Member.html" class="tsd-kind-icon">Member</a></li><li class="tsd-kind-class"><a href="classes/Message.html" class="tsd-kind-icon">Message</a></li><li class="tsd-kind-class"><a href="classes/PrivateMessage.html" class="tsd-kind-icon">Private<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/User.html" class="tsd-kind-icon">User</a></li><li class="tsd-kind-interface"><a href="interfaces/Anonymous.html" class="tsd-kind-icon">Anonymous</a></li><li class="tsd-kind-interface"><a href="interfaces/AtElem.html" class="tsd-kind-icon">At<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/BfaceElem.html" class="tsd-kind-icon">Bface<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/Config.html" class="tsd-kind-icon">Config</a></li><li class="tsd-kind-interface"><a href="interfaces/DiscussMessageEvent.html" class="tsd-kind-icon">Discuss<wbr/>Message<wbr/>Event</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/EventMap.html" class="tsd-kind-icon">Event<wbr/>Map</a></li><li class="tsd-kind-interface"><a href="interfaces/FaceElem.html" class="tsd-kind-icon">Face<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/FileElem.html" class="tsd-kind-icon">File<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/FlashElem.html" class="tsd-kind-icon">Flash<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/Forwardable.html" class="tsd-kind-icon">Forwardable</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendDecreaseEvent.html" class="tsd-kind-icon">Friend<wbr/>Decrease<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendIncreaseEvent.html" class="tsd-kind-icon">Friend<wbr/>Increase<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendInfo.html" class="tsd-kind-icon">Friend<wbr/>Info</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendNoticeEvent.html" class="tsd-kind-icon">Friend<wbr/>Notice<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendPokeEvent.html" class="tsd-kind-icon">Friend<wbr/>Poke<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendRecallEvent.html" class="tsd-kind-icon">Friend<wbr/>Recall<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/FriendRequestEvent.html" class="tsd-kind-icon">Friend<wbr/>Request<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GfsDirStat.html" class="tsd-kind-icon">Gfs<wbr/>Dir<wbr/>Stat</a></li><li class="tsd-kind-interface"><a href="interfaces/GfsFileStat.html" class="tsd-kind-icon">Gfs<wbr/>File<wbr/>Stat</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupAdminEvent.html" class="tsd-kind-icon">Group<wbr/>Admin<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupInfo.html" class="tsd-kind-icon">Group<wbr/>Info</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupInviteEvent.html" class="tsd-kind-icon">Group<wbr/>Invite<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupMessageEvent.html" class="tsd-kind-icon">Group<wbr/>Message<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupMuteEvent.html" class="tsd-kind-icon">Group<wbr/>Mute<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupNoticeEvent.html" class="tsd-kind-icon">Group<wbr/>Notice<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupPokeEvent.html" class="tsd-kind-icon">Group<wbr/>Poke<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupRecallEvent.html" class="tsd-kind-icon">Group<wbr/>Recall<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupRequestEvent.html" class="tsd-kind-icon">Group<wbr/>Request<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupTransferEvent.html" class="tsd-kind-icon">Group<wbr/>Transfer<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/ImageElem.html" class="tsd-kind-icon">Image<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/JsonElem.html" class="tsd-kind-icon">Json<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/LocationElem.html" class="tsd-kind-icon">Location<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/Logger.html" class="tsd-kind-icon">Logger</a></li><li class="tsd-kind-interface"><a href="interfaces/MemberDecreaseEvent.html" class="tsd-kind-icon">Member<wbr/>Decrease<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/MemberIncreaseEvent.html" class="tsd-kind-icon">Member<wbr/>Increase<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/MemberInfo.html" class="tsd-kind-icon">Member<wbr/>Info</a></li><li class="tsd-kind-interface"><a href="interfaces/MessageEvent.html" class="tsd-kind-icon">Message<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/MessageRet.html" class="tsd-kind-icon">Message<wbr/>Ret</a></li><li class="tsd-kind-interface"><a href="interfaces/MfaceElem.html" class="tsd-kind-icon">Mface<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/MiraiElem.html" class="tsd-kind-icon">Mirai<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/PokeElem.html" class="tsd-kind-icon">Poke<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/PrivateMessageEvent.html" class="tsd-kind-icon">Private<wbr/>Message<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/PttElem.html" class="tsd-kind-icon">Ptt<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/Quotable.html" class="tsd-kind-icon">Quotable</a></li><li class="tsd-kind-interface"><a href="interfaces/ReplyElem.html" class="tsd-kind-icon">Reply<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/RequestEvent.html" class="tsd-kind-icon">Request<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/ShareElem.html" class="tsd-kind-icon">Share<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/StrangerInfo.html" class="tsd-kind-icon">Stranger<wbr/>Info</a></li><li class="tsd-kind-interface"><a href="interfaces/TextElem.html" class="tsd-kind-icon">Text<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/VideoElem.html" class="tsd-kind-icon">Video<wbr/>Elem</a></li><li class="tsd-kind-interface"><a href="interfaces/XmlElem.html" class="tsd-kind-icon">Xml<wbr/>Elem</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Apk" class="tsd-kind-icon">Apk</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Device" class="tsd-kind-icon">Device</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Domain" class="tsd-kind-icon">Domain</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Gender" class="tsd-kind-icon">Gender</a></li><li class="tsd-kind-type-alias"><a href="modules.html#GroupRole" class="tsd-kind-icon">Group<wbr/>Role</a></li><li class="tsd-kind-type-alias"><a href="modules.html#LogLevel" class="tsd-kind-icon">Log<wbr/>Level</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageElem" class="tsd-kind-icon">Message<wbr/>Elem</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MusicPlatform" class="tsd-kind-icon">Music<wbr/>Platform</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Sendable" class="tsd-kind-icon">Sendable</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Statistics" class="tsd-kind-icon">Statistics</a></li><li class="tsd-kind-variable"><a href="modules.html#segment" class="tsd-kind-icon">segment</a></li><li class="tsd-kind-function"><a href="modules.html#createClient" class="tsd-kind-icon">create<wbr/>Client</a></li><li class="tsd-kind-function"><a href="modules.html#getGroupImageUrl" class="tsd-kind-icon">get<wbr/>Group<wbr/>Image<wbr/>Url</a></li><li class="tsd-kind-function"><a href="modules.html#parseDmMessageId" class="tsd-kind-icon">parse<wbr/>Dm<wbr/>Message<wbr/>Id</a></li><li class="tsd-kind-function"><a href="modules.html#parseGroupMessageId" class="tsd-kind-icon">parse<wbr/>Group<wbr/>Message<wbr/>Id</a></li><li class="tsd-kind-function"><a href="modules.html#parseImageFileParam" class="tsd-kind-icon">parse<wbr/>Image<wbr/>File<wbr/>Param</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>